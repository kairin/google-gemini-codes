---
import BaseLayout from '@/layouts/BaseLayout.astro';
import ContentHeader from '@/components/ContentHeader.astro';
import Card from '@/components/Card.astro';
import BaseLink from '@/components/BaseLink.astro';
import { ancientMathPage } from '@/data/page-content.ts';
---
<BaseLayout 
    title={ancientMathPage.header.title}
    description={ancientMathPage.header.description}
>
    <ContentHeader 
        title={ancientMathPage.header.title} 
        description={ancientMathPage.header.description} 
    />

    <div class="grid md:grid-cols-3 gap-8 mb-16">
        <!-- Dynamically generate the cards from the central data file -->
        {ancientMathPage.cards.map(card => (
            <Card 
                href={card.href}
                icon={card.icon}
                title={card.title}
                blurb={card.blurb}
            />
        ))}
    </div>

    <div class="max-w-4xl mx-auto prose dark:prose-invert prose-lg space-y-12">
        <img src="/images/girih-modern.png" alt="Modern rendering of Girih tile patterns" class="rounded-lg shadow-xl w-full" />
        
        <section id="discovery">
            <h2>The Discovery</h2>
            <p>In the 1970s, the concept of quasicrystals was unknown to modern science. It wasn't until 1982 that they were officially "discovered" by Dan Shechtman, a finding that was so controversial it earned him a Nobel Prize. Yet, centuries earlier, artisans in the Islamic world had not only conceptualized but mastered the art of creating these complex, non-repeating patterns.</p>
        </section>

        <section id="mathematics">
            <h2>The Mathematics of Aperiodicity</h2>
            <p>What makes these patterns so special is their <strong>aperiodicity</strong>. Unlike standard crystals that have repeating unit cells with 2, 3, 4, or 6-fold rotational symmetry, quasicrystals exhibit symmetries that were once thought to be impossible, such as 5-fold or 10-fold symmetry. The Girih patterns are a perfect physical manifestation of these mathematical principles.</p>
        </section>

        <section id="girih-tiles">
            <h2>The Five Girih Tiles</h2>
            <p>The complexity of these designs originates from a simple set of five fundamental polygons, known as "girih tiles." These are:</p>
            <ul>
                <li>A regular decagon (10 sides)</li>
                <li>A pentagon (5 sides)</li>
                <li>A rhombus (diamond shape)</li>
                <li>A hexagon (6 sides)</li>
                <li>A bow-tie shape</li>
            </ul>
            <p>Below is an interactive canvas demonstrating how these tiles can be combined. Click to redraw a new random pattern.</p>
            <div class="not-prose bg-slate-900 rounded-lg p-2 aspect-video">
                <canvas id="girih-canvas" class="w-full h-full rounded"></canvas>
            </div>
            <script src="/scripts/girih-tiles.js"></script>
        </section>
    </div>

    <div class="text-center mt-16">
        <BaseLink href="/" text="Back to Home" style="secondary" icon="fa-solid fa-arrow-left" />
    </div>
</BaseLayout>
