---
import BaseLayout from '../../layouts/BaseLayout.astro';
import GirihCanvas from '../../components/GirihCanvas.astro';
import Modal from '../../components/Modal.astro'; // <-- Import the new component
---
<BaseLayout title="Ancient Sophistication" description="The mathematics of quasicrystals in Islamic architecture.">

    <!-- Header and Sub-Nav are unchanged -->
    <header class="text-center my-12 md:my-16">
        <h1 class="text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-slate-100 tracking-tight">
            From Ancient Art to Modern Science
        </h1>
    </header>
    <div class="sticky top-[72px] bg-white/80 dark:bg-slate-900/80 backdrop-blur-lg z-40 border-y dark:border-slate-700 -mx-4 px-4 mb-12">
        <nav class="container mx-auto flex justify-center py-2 space-x-8">
            <a href="#introduction" class="font-semibold text-gray-600 dark:text-slate-300 hover:text-blue-600 dark:hover:text-blue-400">Introduction</a>
            <a href="#patterns" class="font-semibold text-gray-600 dark:text-slate-300 hover:text-blue-600 dark:hover:text-blue-400">The Patterns</a>
        </nav>
    </div>

    <!-- Main Content -->
    <div class="prose prose-lg dark:prose-invert max-w-3xl mx-auto space-y-12">
        <section id="introduction">
            <h2>An Integration of Knowledge</h2>
            <p>This exploration demonstrates that historical "secrets" are profound insights into reality... challenging a linear view of scientific progress.</p>
            
            <!-- ADD THIS BUTTON -->
            <div class="not-prose my-8 text-center">
                <button id="research-trigger" class="bg-blue-600 text-white font-semibold px-6 py-3 rounded-lg hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 transition">
                    <i class="fas fa-scroll mr-2"></i> View Full Research Text
                </button>
            </div>
        </section>

        <section id="patterns">
            <h2>Exploring the Quasicrystal</h2>
            <div class="not-prose my-8">
                <GirihCanvas />
            </div>
        </section>
    </div>

    <!-- ADD THE MODAL COMPONENT AT THE END -->
    <Modal triggerId="research-trigger" title="Unveiling Ancient Sophistication: Full Text">
        <div class="prose dark:prose-invert max-w-none">
            <h3>Ancient Mathematical Wisdom</h3>
            <p>Islamic architecture is not just aesthetically beautiful; it's a library of advanced mathematical concepts, specifically non-repeating patterns that exhibit long-range order, known as quasicrystals.</p>
            
            <h3>Artisans as Pioneers</h3>
            <p>Without computational aids, artisans used tools like "Girih tiles" and geometric rules to create stunningly complex designs, demonstrating a deep, intuitive understanding of non-periodic mathematics.</p>

            <h3>A Different Way of Seeing</h3>
            <p>Engaging with these intricate patterns fostered a cognitive framework open to seeing hidden structuresâ€”a way of thinking that resonates with the challenges of understanding quantum-level phenomena today.</p>

            <!-- You can add as much text as you want here -->
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed non risus. Suspendisse lectus tortor, dignissim sit amet, adipiscing nec, ultricies sed, dolor. Cras elementum ultrices diam. Maecenas ligula massa, varius a, semper congue, euismod non, mi.</p>
        </div>
    </Modal>

</BaseLayout>
