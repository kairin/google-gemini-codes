---
// src/components/BaseLink.astro
import type { HTMLAttributes } from 'astro/types';

interface Props extends HTMLAttributes<'a'> {
  href: string;
}
const { href, ...props } = Astro.props;

// import.meta.env.BASE_URL is Astro's rock-solid way to get the correct base path.
// It will be '/' in dev and '/google-gemini-codes' in the production build.
const resolvedUrl = new URL(href, import.meta.env.BASE_URL).pathname;
---
<a href={resolvedUrl} {...props}>
  <slot />
</a>
